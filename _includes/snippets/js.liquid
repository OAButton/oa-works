{% comment %}Include lazylinepainter{% endcomment %}
<script src="js/lazy-line-painter-1.9.6.min.js"></script>
{% comment %}Include AOS{% endcomment %}
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
{% comment %}Detect IE and show message to update browser{% endcomment %}
{% include 'snippets/browser_detection.liquid' %}

<script type="text/javascript">
  // Initialise AOS
  AOS.init();

  // Hamburger menu
  var nav = document.querySelector(".header__nav"),
      navTrigger = document.querySelector(".menu-trigger"),
      menuBtn = document.getElementById("menuBtn");

  if (navTrigger) {
    navTrigger.addEventListener("click",
    function(e) {
      nav.classList.toggle('header__nav--open');
      menuBtn.classList.toggle('menu-trigger--open');
      e.preventDefault();
    }, false);
  }

  (function(){

    //Â Hide header menu on down scroll; display on scroll up
    var prevScrollPos = window.pageYOffset;

    function hideNav() {
        var currentScrollPos = window.pageYOffset;

        if (prevScrollPos > currentScrollPos) {
            document.getElementById("header").style.top = "0";
        } else {
            document.getElementById("header").style.top = "-100px";
        }

        prevScrollPos = currentScrollPos;
    }

    window.onscroll = function() {
      //hideNav();

      // Display back-to-top btn on scroll
      var topBtn = document.getElementById("topBtn");

      if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
        topBtn.style.display = "flex";
      } else {
        topBtn.style.display = "none";
      }

      // Add lass to menu btn on scroll
      var menuBtn = document.getElementById("menuBtn");

      if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
        menuBtn.classList.add('menu-trigger--scrolled');
      } else {
        menuBtn.classList.remove('menu-trigger--scrolled');
      }

      // Add class to shapes when scrolling away from cover
      var svgShapes = document.getElementsByClassName("lazy-line-painter");

      for (i = 0; i < svgShapes.length; i++) {
        if (window.pageYOffset > 75) {
          svgShapes[i].classList.add("scrolled");
        }
        else {
          svgShapes[i].classList.remove("scrolled")
        };
      };
    };
  })();
</script>
