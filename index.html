---
layout: "layouts/base.liquid"
---

<section class="section section--cover" style="color: var(--white);">
  <div class="row row--centered">
    <div class="col col--1of2">
      <p class="bg-black-85 label" data-aos="fade-up">
        {{ site.lede }}
      </p>
      <h2 class="bg-black-85 font-sans" data-aos="fade-up" data-aos-delay="50">{{ site.tagline }}</h2>
      <p class="bg-black-85" data-aos="fade-up" data-aos-delay="100">{{ site.description }}</p>
      <p style="margin-top: var(--space-xxl);">
        <a href="#products" class="button button--primary" style=" --initialTextColor: var(--black); --slideTextColor: var(--white); --initialBgColor: var(--white); --slideBgColor: var(--azure);" data-aos="fade-up" data-aos-delay="150">{{ site.cta }}</a>
      </p>
    </div>
  </div>
</section>

<section id="products" class="section bg-white" data-aos="fade-up" style="padding-top: 0;">
  <h2 class="sr-only">
    Products
  </h2>
  <ul class="no-margin products">
    {% include 'embeds.css' %}
    {% for product in products %}
    {% capture the_cycle %}{% cycle 'odd', 'even' %}{% endcapture %}
    {% if product.featured %}
    <li class="row" data-aos="fade-up">
      <header class="flex-center bg-black" style="width: 100%;">
        <div style="align-self: center; padding: var(--space-md);">
          {% include product.logo %}
        </div>
      </header>
      {% include 'snippets/product_description.liquid'%}
      <aside class="col col--1of2 flex-col" data-aos="fade-{% if the_cycle == 'odd' %}right{% else %}left{% endif %}"
      data-aos-delay="150" style="margin-top: var(--gutter);">
        <article class="card card--floating">
          <header class="bg-black card__header">
            <h3 class="label">
              {% if product.embed %}
                Try <a href="{{ product.url }}" target="_blank" rel="noopener">{{ product.name }}</a> now üëá
              {% else %}

              {% endif %}
            </h3>
          </header>
          <div class="card__body flex-center" style="height: 45vh; background: var(--white); overflow-y: scroll;">
            {% if product.embed %}{{ product.embed }}{% endif %}
          </div>
        </article>
      </aside>
    </li>
    {% endif %}
    {% endfor %}
  </ul>
</section>

<aside class="row bg-white aside">
  <div class="col">
    <h2 class="font-serif label flex-center" data-aos="fade-up">In partnership with</h2>
    <ul class="row unstyled-list flex-center">
      {% assign delay_count = 0 %}
      {% for partner in partners %}
      {% assign delay_count = delay_count | plus: 50 %}
      <li class="col col--1of3 flex-center" data-aos="fade-up" data-aos-delay="{{ delay_count }}">
        <a href="{{ partner.url }}" title="{{ partner.name }}‚Äôs site" target="_blank" rel="noopener" class="bw" style="display: block; margin-top: var(--space-md);">
          {% include partner.logo %}
        </a>
      </li>
      {% endfor %}
    </ul>
  </div>
</aside>

<section class="section section--half bg-black" style="padding-bottom: 0;" data-aos="fade-up">
  <h2 class="sr-only">Testimonials</h2>
  <ul class="no-margin testimonials">
    {% for t in testimonials %}
    <li class="row row--centered flex-end testimonial" style="display: none;">
      <article class="col col--2of4 flex-center flex-col">
        <h3 class="label">Our partner for {{ t.product }}</h3>
        <blockquote>
          <p class="type-5">‚Äú{{ t.quote }}‚Äù</p>
          <a href="{{ t.aff_url }}" target="_blank" rel="noopener" style="display: block;">
            {% include t.aff_logo %}
          </a>
          <p class="type-6">
            <cite>
              ‚Äî {{ t.name }} <br/>{{ t.role }}
            </cite>
          </p>
        </blockquote>
      </article>
      <figure class="col col--1of4 flex-end flex-col">
        <img class="portrait" src="img/{{ t.img }}"/>
      </figure>
    </li>
    {% endfor %}
  </ul>
</section>


<section class="section section--three-quarter bg-white" data-aos="fade-up">
  <h2 class="font-serif">Latest updates</h2>
  <ul class="row flex-center">
    {% assign delay_count = 0 %}
    {% for post in posts limit:3 %}
    {% assign delay_count = delay_count | plus: 50 %}
    <li class="col col--1of3 bg-pattern" data-aos="fade-up" data-aos-delay="{{ delay_count }}">
      <article class="card card--small">
        <a href="https://blog.openaccessbutton.org/{{ post.slug }}/" target="_blank" rel="noopener" style="display: block;">
          <h3 class="card__header bg-white label label--secondary">{{ post.title }}</h3>
          <div class="card__body" style="padding: 0;">
            {%- if post.feature_image -%}
              <img src="{{ post.feature_image }}" class="card__img"/>
            {% else %}
              <div class="card__blank bg-pattern__child"></div>
            {% endif %}
          </div>
          <footer class="card__footer card__footer--inverted" style="padding: var(--space-xs);">
            <time datetime="{{ post.updated_at }}"><small>{{ post.updated_at | date: "%b %d, %Y" }}</small></time>
          </footer>
        </a>
      </article>
    </li>
    {% endfor %}
  </ul>

  <div class="row row--centered" data-aos="fade-up">
    <div class="col col--1of2">
      <article class="card card--small">
        <h3 class="card__header bg-black label">{{ about.journey_heading }}</h3>
        <div class="card__body">
          <p>{{ about.journey_content }}</p>
        </div>
        <div class="card__footer">
          <a href="/about/">{{ about.journey_cta }}</a>
        </div>
      </article>
    </div>
  </div>
</section>

{% include 'snippets/stories.liquid' %}

{% block extra_js %}
<script src="{{ site.base_url }}/js/lazy-line-painter-1.9.6.min.js"></script>

<script>
  // Randomly display testimonials
  var testimonials = document.getElementsByClassName("testimonial");
  var random = Math.floor(Math.random() * testimonials.length);

  for(var i = 0; i < testimonials.length; i++){
    testimonials[i].style.display = (i==random) ? "flex" : "none";
  };

  // Paint SVGs
  document.onreadystatechange = function() {
    if (document.readyState === 'complete') {
      let el1 = document.querySelector('#introellipse');
      let myAnimation1 = new LazyLinePainter(el1, {"ease":"easeInOutCubic","strokeWidth":70,"strokeOpacity":1,"strokeColor":"#0075FF","strokeCap":"square"});
      myAnimation1.paint();

      let el2 = document.querySelector('#introtriangle');
      let myAnimation2 = new LazyLinePainter(el2, {"ease":"easeInOutCubic","strokeWidth":70,"strokeOpacity":1,"strokeColor":"#00FFD1","strokeCap":"square","delay":500});
      myAnimation2.paint();

      let el3 = document.querySelector('#introsquiggle');
      let myAnimation3 = new LazyLinePainter(el3, {"ease":"easeInOutCubic","strokeWidth":60,"strokeOpacity":1,"strokeColor":"#DBFF00","strokeCap":"square","delay":1500});
      myAnimation3.paint();
    }
  }
</script>
{% endblock %}
